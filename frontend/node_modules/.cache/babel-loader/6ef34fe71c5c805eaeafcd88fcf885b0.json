{"ast":null,"code":"var _jsxFileName = \"/home/frankessien/myworkspace/food-delivery-api/frontend/src/components/OrderSummary.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useCartContext } from '../context/cart_context';\nimport { useAuthContext } from '../context/auth_context';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/cart/OrderSummary.css';\nconst OrderSummary = () => {\n  const {\n    total_quantity,\n    delivery_fee,\n    total_price,\n    cart,\n    createOrder,\n    payment_option,\n    clearFromLocalStorage\n  } = useCartContext();\n  const {\n    is_logged_in,\n    user,\n    getSingleUser,\n    single_userInfo,\n    userInfo_name,\n    user_email\n  } = useAuthContext();\n  const [paymentOption, setPaymentOption] = useState('');\n  const [isTokenPresent, setIsTokenPresent] = useState(false);\n  let navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const userId = localStorage.getItem('userId');\n  const handConfirm = () => {\n    console.log('handle Submit Clicked');\n    if (token && cart && userId) {\n      console.log('Logged in  && userID is', user.userId, 'USER ID', userId);\n      let timeCheck = setTimeout(() => {\n        getSingleUser(userId);\n      }, 1000);\n      navigate('/checkout');\n      return () => clearTimeout(timeCheck);\n    } else {\n      let waitTime = setTimeout(() => {\n        console.log('waiting for 1 sec');\n        navigate('/login');\n      }, 2000);\n      return () => clearTimeout(waitTime);\n    }\n  };\n  useEffect(() => {\n    getSingleUser(userId);\n  }, [userId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"ORDER SUMMARY\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Confirm Order\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"quantity-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Total Quantity: \", total_quantity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Sub Total:\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \" \\u20A6\", total_price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirm-btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"confirm-btn\",\n    type: \"submit\",\n    onClick: handConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Confirm Order\"))));\n};\nexport default OrderSummary;","map":{"version":3,"names":["React","useEffect","useState","useCartContext","useAuthContext","useNavigate","OrderSummary","total_quantity","delivery_fee","total_price","cart","createOrder","payment_option","clearFromLocalStorage","is_logged_in","user","getSingleUser","single_userInfo","userInfo_name","user_email","paymentOption","setPaymentOption","isTokenPresent","setIsTokenPresent","navigate","token","localStorage","getItem","userId","handConfirm","console","log","timeCheck","setTimeout","clearTimeout","waitTime","createElement","style","marginTop","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onClick"],"sources":["/home/frankessien/myworkspace/food-delivery-api/frontend/src/components/OrderSummary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useCartContext } from '../context/cart_context'\n\nimport { useAuthContext } from '../context/auth_context'\nimport { useNavigate } from 'react-router-dom'\nimport '../styles/cart/OrderSummary.css'\n\nconst OrderSummary = () => {\n  const {\n    total_quantity,\n    delivery_fee,\n    total_price,\n    cart,\n    createOrder,\n    payment_option,\n    clearFromLocalStorage\n  } = useCartContext()\n  const {\n    is_logged_in,\n    user,\n    getSingleUser,\n    single_userInfo,\n    userInfo_name,\n    user_email\n  } = useAuthContext()\n  const [paymentOption, setPaymentOption] = useState('')\n  const [isTokenPresent, setIsTokenPresent] = useState(false)\n\n  let navigate = useNavigate()\n  const token = localStorage.getItem('token')\n  const userId = localStorage.getItem('userId')\n\n  const handConfirm = () => {\n    console.log('handle Submit Clicked')\n    if (token && cart && userId) {\n      console.log('Logged in  && userID is', user.userId, 'USER ID', userId)\n\n      let timeCheck = setTimeout(() => {\n        getSingleUser(userId)\n      }, 1000)\n      navigate('/checkout')\n      return () => clearTimeout(timeCheck)\n    } else {\n      let waitTime = setTimeout(() => {\n        console.log('waiting for 1 sec')\n        navigate('/login')\n      }, 2000)\n      return () => clearTimeout(waitTime)\n    }\n  }\n\n  useEffect(() => {\n    getSingleUser(userId)\n  }, [userId])\n  return (\n    <div style={{ marginTop: '200px' }}>\n      <div className='cart-summary'>\n        <div>\n          <h3>ORDER SUMMARY</h3>\n        </div>\n\n        <div>\n          <h5>Confirm Order</h5>\n        </div>\n        <div className='quantity-total'>\n          <span>Total Quantity: {total_quantity}</span>\n        </div>\n\n        <div className='cart-total'>\n          <div>Sub Total:</div>\n          <div> &#8358;{total_price}</div>\n        </div>\n\n        <div className='confirm-btn-container'>\n          <button className='confirm-btn' type='submit' onClick={handConfirm}>\n            Confirm Order\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OrderSummary\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}