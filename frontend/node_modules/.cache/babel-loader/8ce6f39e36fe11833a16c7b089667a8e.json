{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_BEGIN, REGISTER_ERROR, REGISTER_USER, LOGIN_USER_BEGIN, LOGIN_USER_SUCCESS, LOGIN_USER_ERROR, LOGOUT_USER_SUCCESS, LOGOUT_USER_ERROR, GET_SINGLE_USER_BEGIN, SINGLE_USER_ERROR, SINGLE_USER_SUCCESS, REGISTER_USER_BEGIN } from '../actions';\nimport { SingleFood } from '../pages';\nconst auth_reducer = (state, action) => {\n  if (action.type === REGISTER_USER_BEGIN) {\n    console.log('FROM REGISTER USER REDUCER');\n    console.log(action.payload);\n    // const { token, tokenUser } = action.payload\n    // console.log(token, tokenUser)\n    console.log(state.user);\n    return {\n      ...state,\n      is_registered: false,\n      register_loading: true,\n      is_authenticated: false,\n      loading: true,\n      user: null\n    };\n  }\n  if (action.type === REGISTER_SUCCESS) {\n    console.log('FROM REGISTER USER Success REDUCER');\n    console.log(action.payload.user);\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      loading: false,\n      is_registered: true,\n      is_logged_in: false,\n      is_authenticated: true,\n      user: action.payload\n    };\n  }\n  if (action.type === REGISTER_ERROR) {\n    console.log('from reducers register Error');\n    return {\n      ...state,\n      is_registered: false,\n      register_error: false,\n      register_loading: false,\n      is_logged_in: false,\n      is_authenticated: false,\n      error: true,\n      loading: false,\n      email: '',\n      password: '',\n      user: null\n    };\n  }\n  if (action.type === LOGIN_USER_BEGIN) {\n    console.log('LOGIN  BEGIN');\n    console.log('from LOGIN BEGIN', action.payload);\n    return {\n      ...state,\n      register_loading: true,\n      loading: true,\n      register_error: false,\n      is_error: false,\n      is_registered: false,\n      is_logged_in: false,\n      user: null\n    };\n  }\n  if (action.type === LOGIN_USER_SUCCESS) {\n    console.log('LOGIN SUCCESS FROM  REDUCERS');\n    // const { userId, name } = action.payload\n    const {\n      token,\n      tokenUser\n    } = action.payload;\n    const {\n      name,\n      userId,\n      role\n    } = tokenUser;\n    localStorage.setItem('userId', tokenUser.userId);\n    console.log('FROM  PAYLOAD LOGIN REDUCERS  TEST', userId, name);\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      is_registered: true,\n      is_logged_in: true,\n      loading: false,\n      is_error: false,\n      is_authenticated: true,\n      user: tokenUser\n    };\n  }\n  if (action.type === LOGIN_USER_ERROR) {\n    console.log('USER LOGIN ERROR FROM  REDUCER');\n    console.log('error    variable', state.is_error);\n    return {\n      ...state,\n      is_registered: false,\n      register_error: false,\n      register_loading: false,\n      is_logged_in: false,\n      is_authenticated: false,\n      is_error: true,\n      loading: false,\n      email: '',\n      password: '',\n      user: {}\n    };\n  }\n  if (action.type === LOGOUT_USER_SUCCESS) {\n    console.log('USER LOG OUT SUCCESS   FROM  REDUCERS!');\n    // const { data } = action.payload\n    // console.log(data)\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      is_registered: false,\n      is_logged_in: false,\n      loading: false,\n      is_authenticated: false,\n      is_error: false,\n      data: action.payload,\n      user: null\n    };\n  }\n  if (action.type === LOGOUT_USER_ERROR) {\n    console.log('USER LOG OUT SUCCESS   FROM  REDUCERS!');\n    return {\n      ...state,\n      is_logged_in: false,\n      user: null\n    };\n  }\n  if (action.type === GET_SINGLE_USER_BEGIN) {\n    return {\n      ...state,\n      single_userInfoError: false,\n      single_userInfoLoading: true,\n      single_userInfo: null\n    };\n  }\n  if (action.type === SINGLE_USER_SUCCESS) {\n    console.log('from actions  payload', action.payload);\n    const {\n      deliveryAddress,\n      name,\n      email\n    } = action.payload;\n    console.log('The Address Details', deliveryAddress, name);\n    return {\n      ...state,\n      single_userInfoError: false,\n      single_userInfoLoading: false,\n      single_userInfo: deliveryAddress,\n      userInfo_name: name,\n      user_email: email\n    };\n  }\n  if (action.type === SINGLE_USER_ERROR) {\n    console.log('from actions  payload Error!', action.payload);\n    return {\n      ...state,\n      single_userInfoError: true,\n      single_userInfoLoading: false,\n      single_userInfo: null\n    };\n  }\n  throw new Error(`No matching ${action.type}-action  type`);\n};\n\n//TODO:  handle add  user  Login  and  USER lOGGED out action\n\nexport default auth_reducer;","map":{"version":3,"names":["REGISTER_SUCCESS","REGISTER_BEGIN","REGISTER_ERROR","REGISTER_USER","LOGIN_USER_BEGIN","LOGIN_USER_SUCCESS","LOGIN_USER_ERROR","LOGOUT_USER_SUCCESS","LOGOUT_USER_ERROR","GET_SINGLE_USER_BEGIN","SINGLE_USER_ERROR","SINGLE_USER_SUCCESS","REGISTER_USER_BEGIN","SingleFood","auth_reducer","state","action","type","console","log","payload","user","is_registered","register_loading","is_authenticated","loading","register_error","is_logged_in","error","email","password","is_error","token","tokenUser","name","userId","role","localStorage","setItem","data","single_userInfoError","single_userInfoLoading","single_userInfo","deliveryAddress","userInfo_name","user_email","Error"],"sources":["/home/frankessien/myworkspace/food-delivery-api/frontend/src/reducers/auth_reducer.js"],"sourcesContent":["import {\n  REGISTER_SUCCESS,\n  REGISTER_BEGIN,\n  REGISTER_ERROR,\n  REGISTER_USER,\n  LOGIN_USER_BEGIN,\n  LOGIN_USER_SUCCESS,\n  LOGIN_USER_ERROR,\n  LOGOUT_USER_SUCCESS,\n  LOGOUT_USER_ERROR,\n  GET_SINGLE_USER_BEGIN,\n  SINGLE_USER_ERROR,\n  SINGLE_USER_SUCCESS,\n  REGISTER_USER_BEGIN,\n} from '../actions'\nimport { SingleFood } from '../pages'\n\nconst auth_reducer = (state, action) => {\n  if (action.type === REGISTER_USER_BEGIN) {\n    console.log('FROM REGISTER USER REDUCER')\n    console.log(action.payload)\n    // const { token, tokenUser } = action.payload\n    // console.log(token, tokenUser)\n    console.log(state.user)\n\n    return { ...state, is_registered:false, register_loading: true,is_authenticated: false, loading:true, user: null }\n  }\n  if (action.type === REGISTER_SUCCESS) {\n    console.log('FROM REGISTER USER Success REDUCER')\n    console.log(action.payload.user)\n\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      loading: false,\n\n      is_registered: true,\n      is_logged_in: false,\n      is_authenticated: true,\n      user: action.payload\n    }\n  }\n\n  if (action.type === REGISTER_ERROR) {\n    console.log('from reducers register Error')\n    return {\n      ...state,\n      is_registered: false,\n      register_error: false,\n      register_loading: false,\n      is_logged_in: false,\n      is_authenticated: false,\n      error: true,\n      loading: false,\n      email: '',\n      password: '',\n      user: null\n    }\n  }\n\n  if (action.type === LOGIN_USER_BEGIN) {\n    console.log('LOGIN  BEGIN')\n\n    console.log('from LOGIN BEGIN', action.payload)\n    return {\n      ...state,\n      register_loading: true,\n      loading: true,\n      register_error: false,\n      is_error: false,\n      is_registered: false,\n      is_logged_in: false,\n      user: null\n    }\n  }\n\n  if (action.type === LOGIN_USER_SUCCESS) {\n    console.log('LOGIN SUCCESS FROM  REDUCERS')\n    // const { userId, name } = action.payload\n    const { token, tokenUser } = action.payload\n\n    const { name, userId, role } = tokenUser\n    localStorage.setItem('userId', tokenUser.userId)\n\n    console.log('FROM  PAYLOAD LOGIN REDUCERS  TEST', userId, name)\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      is_registered: true,\n      is_logged_in: true,\n      loading: false,\n      is_error: false,\n\n      is_authenticated: true,\n      user: tokenUser\n    }\n  }\n  if (action.type === LOGIN_USER_ERROR) {\n    console.log('USER LOGIN ERROR FROM  REDUCER')\n\n    console.log('error    variable', state.is_error)\n    return {\n      ...state,\n\n      is_registered: false,\n      register_error: false,\n      register_loading: false,\n      is_logged_in: false,\n      is_authenticated: false,\n      is_error: true,\n      loading: false,\n      email: '',\n      password: '',\n      user: {}\n    }\n  }\n\n  if (action.type === LOGOUT_USER_SUCCESS) {\n    console.log('USER LOG OUT SUCCESS   FROM  REDUCERS!')\n    // const { data } = action.payload\n    // console.log(data)\n    return {\n      ...state,\n      register_loading: false,\n      register_error: false,\n      is_registered: false,\n      is_logged_in: false,\n      loading: false,\n\n      is_authenticated: false,\n      is_error: false,\n      data: action.payload,\n      user: null\n    }\n  }\n  if (action.type === LOGOUT_USER_ERROR) {\n    console.log('USER LOG OUT SUCCESS   FROM  REDUCERS!')\n    return {\n      ...state,\n      is_logged_in: false,\n      user: null\n    }\n  }\n  if (action.type === GET_SINGLE_USER_BEGIN) {\n    return {\n      ...state,\n      single_userInfoError: false,\n      single_userInfoLoading: true,\n      single_userInfo: null\n    }\n  }\n  if (action.type === SINGLE_USER_SUCCESS) {\n    console.log('from actions  payload', action.payload)\n    const { deliveryAddress, name, email } = action.payload\n    console.log('The Address Details', deliveryAddress, name)\n    return {\n      ...state,\n      single_userInfoError: false,\n      single_userInfoLoading: false,\n      single_userInfo: deliveryAddress,\n      userInfo_name: name,\n      user_email: email\n    }\n  }\n  if (action.type === SINGLE_USER_ERROR) {\n    console.log('from actions  payload Error!', action.payload)\n    return {\n      ...state,\n      single_userInfoError: true,\n      single_userInfoLoading: false,\n      single_userInfo: null\n    }\n  }\n  throw new Error(`No matching ${action.type}-action  type`)\n}\n\n//TODO:  handle add  user  Login  and  USER lOGGED out action\n\nexport default auth_reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}